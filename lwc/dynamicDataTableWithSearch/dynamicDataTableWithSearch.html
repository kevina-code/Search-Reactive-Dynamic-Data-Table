<template>
  <lightning-card variant="Narrow" title={title} icon-name="standard:apps">
    <div class="slds-p-horizontal_small">
      <!-- multi select lookup -->
      <c-multi-select-lookup
        record-id={recordId}
        obj-api-name={objApiName}
        field-paths={fieldPaths}
        field-paths-for-search={fieldPathsForSearch}
        where-clause={whereClause}
        icon-name={iconName}
        context="search results table"
        record-limit="10"
        placeholder="Lookup record(s)..."
        onsearched={handleSearchedRecords}
        oncellchanged={handleCellChange}
      >
      </c-multi-select-lookup>
      <!-- dynamic data table -->
      <template lwc:if={recordData.length}>
        <c-dynamic-data-table
          obj-api-name={objApiName}
          field-paths={fieldPaths}
          actions-str={actionsStr}
          hide-checkbox-column={hideCheckboxColumn}
          suppress-bottom-bar={suppressBottomBar}
          enforce-accessible-fls={enforceAccessibleFls}
          make-columns-read-only={makeColumnsReadOnly}
          record-data={recordData}
          selected-row-ids={selectedRowIds}
          col-header-map={colHeaderMap}
          linkified-columns={linkifiedColumns}
          column-headers={columnHeaders}
          onrowstoggled={handleRowsToggled}
        >
        </c-dynamic-data-table>
      </template>
    </div>
  </lightning-card>
</template>